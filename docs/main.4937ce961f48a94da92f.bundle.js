webpackJsonp([2],{0:function(e,t,n){e.exports=n("cDNt")},"2AIk":function(e,t){e.exports='<ng-container *ngIf="isAuthorised$ | async">\n    <app-navbar></app-navbar>\n</ng-container>\n\n<div class="container">\n    <router-outlet></router-outlet>\n    <app-messages></app-messages>\n</div>\n'},"8jEQ":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("LMZF"),o=n("ADVA"),i=n("OrJK"),a=n("qhP2"),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e){this.store=e,this.user$=this.store.select(a.a),this.userIsLoaded$=this.store.select(a.c),this.userIsBeingLoaded$=this.store.select(a.b),this.userAfterLoading$=this.userIsLoaded$.filter(function(e){return e}).switchMapTo(this.user$).first()}return e.prototype.reset=function(){this.store.dispatch(new i.b)},e=c([Object(r.Injectable)(),s("design:paramtypes",[o.h])],e)}()},A0Md:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i});var r="auth-token",o="xsrf-token",i="/dashboard"},Dlgu:function(e,t,n){"use strict";t.a=function(e){if(r[e])throw new Error('Action type "'+e+'" is not unqiue"');return r[e]=!0,e};var r={}},Ez6J:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,".form-signin{max-width:330px;padding:15px;margin:0 auto}.form-signin .form-signin-heading{margin-bottom:16px}.form-signin .link-box{padding:1rem;text-align:center}",""]),e.exports=e.exports.toString()},FwjB:function(e,t){e.exports='<form class="form-signin" [formGroup]="form" (submit)="captchaRef.execute()">\n    <h2 class="form-signin-heading">Please sign in</h2>\n\n    <div class="form-group">\n        <label>Username</label>\n        <input type="text" class="form-control" formControlName="username">\n    </div>\n\n    <div class="form-group">\n        <label>Password</label>\n        <input type="password" class="form-control" formControlName="passwordMd5">\n    </div>\n\n    <button type="submit" class="btn btn-lg btn-primary btn-block" [disabled]="isLoading">Sign in</button>\n\n    <re-captcha\n        #captchaRef="reCaptcha"\n        siteKey="6LcKNEIUAAAAAPGe3VDGzUcqXyi5iyMD-IPhiXej"\n        size="invisible"\n        (resolved)="login($event)"\n    ></re-captcha>\n</form>\n'},Lv0n:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("LMZF"),o=n("ADVA"),i=n("Tl+Y"),a=n("AP4T"),c=n("xrDH"),s=(n.n(c),n("PyUF")),u=n("PyUF"),f=n("8jEQ"),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,n){this.store=e,this.actions$=t,this.userService=n,this.loggedInSuccessfully$=this.actions$.ofType(u.h.AUTH_LOGIN_SUCCESS),this.loggedInFailure$=this.actions$.ofType(u.h.AUTH_LOGIN_FAIL).map(function(e){return e.payload}),this.isAuthorised$=a.Observable.combineLatest([this.userService.user$,this.userService.userIsBeingLoaded$]).map(function(e){var t=e[0],n=e[1];return!Object(c.isEmpty)(t)||!!n})}return e.prototype.login=function(e){this.store.dispatch(new s.d(e))},e.prototype.checkInitialState=function(){this.store.dispatch(new s.c)},e.prototype.logout=function(){this.store.dispatch(new s.g)},e=l([Object(r.Injectable)(),p("design:paramtypes",[o.h,i.a,f.a])],e)}()},OiVa:function(e,t){e.exports='<nav class="navbar navbar-expand-lg navbar-light bg-light">\n    <div class="container">\n        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">\n            <span class="navbar-toggler-icon"></span>\n        </button>\n\n        <div class="collapse navbar-collapse" id="navbarNavDropdown">\n            <ul class="navbar-nav">\n                <li class="nav-item" [routerLinkActive]="[\'active\']" [routerLinkActiveOptions]="{ exact: true }">\n                    <a class="nav-link" [routerLink]="[\'/dashboard\']">Dashboard</a>\n                </li>\n\n                <li class="nav-item">\n                    <a class="nav-link" (click)="logout()">Logout</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</nav>\n'},OrJK:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n("Dlgu"),o={USER_LOAD_CURRENT_USER:Object(r.a)("[User] Load current user"),USER_LOAD_CURRENT_USER_SUCCESS:Object(r.a)("[User] Load current user success"),USER_LOAD_CURRENT_USER_FAIL:Object(r.a)("[User] Load current user fail"),USER_RESET:Object(r.a)("[User] Reset")},i=(function(){}(),function(){return function(e){this.payload=e,this.type=o.USER_LOAD_CURRENT_USER_SUCCESS}}()),a=(function(){}(),function(){return function(){this.type=o.USER_RESET}}())},PyUF:function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return f}),n.d(t,"g",function(){return l});var r=n("Dlgu"),o={AUTH_CHECK_INITIAL_STATE:Object(r.a)("[Auth] Check initial state"),AUTH_CHECK_HAS_TOKEN:Object(r.a)("[Auth] It has a token"),AUTH_CHECK_HAS_NO_TOKEN:Object(r.a)("[Auth] It has no a token"),AUTH_LOGIN:Object(r.a)("[Auth] Login"),AUTH_LOGIN_SUCCESS:Object(r.a)("[Auth] Login success"),AUTH_LOGIN_FAIL:Object(r.a)("[Auth] Login fail"),AUTH_RESET:Object(r.a)("[Auth] Reset")},i=function(){return function(){this.type=o.AUTH_CHECK_INITIAL_STATE}}(),a=function(){return function(e){this.payload=e,this.type=o.AUTH_CHECK_HAS_TOKEN}}(),c=function(){return function(){this.type=o.AUTH_CHECK_HAS_NO_TOKEN}}(),s=function(){return function(e){this.payload=e,this.type=o.AUTH_LOGIN}}(),u=function(){return function(e){this.payload=e,this.type=o.AUTH_LOGIN_SUCCESS}}(),f=function(){return function(e){this.payload=e,this.type=o.AUTH_LOGIN_FAIL}}(),l=function(){return function(){this.type=o.AUTH_RESET}}()},QfQk:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},T2Au:function(e,t,n){"use strict";var r=n("LMZF"),o=n("0nO6"),i=n("Un6q"),a=n("UHIZ"),c=n("Lv0n"),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e){this.authService=e}return e.prototype.logout=function(){this.authService.logout()},e=s([Object(r.Component)({selector:"app-navbar",template:n("OiVa"),styles:[n("sSrt")],encapsulation:r.ViewEncapsulation.None}),u("design:paramtypes",[c.a])],e)}();n.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=[f],d=function(){function e(){}return e=l([Object(r.NgModule)({imports:[i.CommonModule,o.b,o.c,a.b],declarations:p.slice(),exports:p.slice()})],e)}()},YuZA:function(e,t,n){var r={"../dashboard/dashboard.module":["0IaF",0]};function o(e){var t=r[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}o.keys=function(){return Object.keys(r)},o.id="YuZA",e.exports=o},bBva:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("LMZF"),o=n("N2o7"),i=(n.n(o),n("xrDH")),a=(n.n(i),n("A0Md")),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e){this.localStorageService=e}return Object.defineProperty(e.prototype,"token",{get:function(){return this.localStorageService.get(a.b)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasToken",{get:function(){return!Object(i.isEmpty)(this.token)},enumerable:!0,configurable:!0}),e.prototype.remove=function(){this.localStorageService.remove(a.b),this.localStorageService.remove(a.c)},e.prototype.setTokens=function(e){var t=e.falkonToken,n=e.xsrfToken;this.localStorageService.set(a.b,t),this.localStorageService.set(a.c,n)},e=c([Object(r.Injectable)(),s("design:paramtypes",[o.LocalStorageService])],e)}()},cDNt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("LMZF"),i=n("x8Hs"),a=n("RyBE"),c=n("AhIr"),s=n("T2Au"),u=n("Un6q"),f=n("9iV4"),l=n("0nO6"),p=n("ADVA"),d=n("Tl+Y"),h=n("N2o7"),b=n("uIf7"),y=(n("GQSG"),n("ivSB"),n("RSzd"),n("G0Dj"),n("HT7u"),n("Wi6i"),n("5dsq"),n("O0Ed"),n("wH+M"),n("iBt5"),n("7Wa7"),n("+DIC"),n("HECM"),n("oei5"),n("S0c/"),n("CnWv"),n("xrDH")),g=n("AP4T"),v=function(){function e(){this.text=null,this.type="SUCCESS",this.visible=!1,this.removed=!1}return e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.remove=function(){this.removed=!0},e.prototype.showForSeconds=function(e){var t=this;return g.Observable.timer(0).do(function(){return t.show()}).delay(1e3*e).do(function(){return t.hide()}).delay(1e3).do(function(){return t.remove()})},e.prototype.removeFadeOut=function(){var e=this;return g.Observable.timer(0).do(function(){return e.hide()}).delay(1e3).do(function(){return e.remove()})},e}(),m=n("TO51"),O=function(){function e(){this.itIsDestroyed=new m.a}return e.prototype.ngOnDestroy=function(){this.itIsDestroyed.next(),this.itIsDestroyed.complete()},e}(),j=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),R=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(e){function t(){var t=e.call(this)||this;return t.timeout=15,t.messages=[],t}return j(t,e),t.prototype.showMessage=function(e,t){var n=this;void 0===t&&(t="SUCCESS");var r=new v;return r.text=e,r.type=t,this.messages.push(r),r.showForSeconds(this.timeout).subscribe(function(){Object(y.remove)(n.messages,{removed:!0})}),r},t.prototype.removeMessage=function(e){var t=this;e.removeFadeOut().subscribe(function(){Object(y.remove)(t.messages,{removed:!0})})},t=R([Object(o.Injectable)(),_("design:paramtypes",[])],t)}(O),A=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(){function e(e){this.messagesService=e}return e.prototype.remove=function(e){this.messagesService.removeMessage(e)},Object.defineProperty(e.prototype,"messages",{get:function(){return this.messagesService.messages},enumerable:!0,configurable:!0}),e=A([Object(o.Component)({selector:"app-messages",template:n("eCLT"),styles:[n("yZGB")]}),w("design:paramtypes",[S])],e)}(),I=n("Lv0n"),P=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},T=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},U=function(){function e(e){this.http=e}return e.prototype.signIn=function(e){return this.http.post("/system.user.login",e)},e=P([Object(o.Injectable)(),T("design:paramtypes",[f.b])],e)}(),C=n("bBva"),L=n("trG3"),x=n("UHIZ"),k=n("A0Md"),D=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},N=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},M=function(){function e(e,t,n){this.tokenService=e,this.authService=t,this.router=n}return e.prototype.canActivate=function(e,t){return!this.tokenService.hasToken||(this.router.navigateByUrl(this.authService.redirectUrl||k.a),this.authService.redirectUrl=null,!1)},e.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},e=D([Object(o.Injectable)(),N("design:paramtypes",[C.a,I.a,x.a])],e)}(),H=n("PyUF"),$=n("OrJK"),F=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},G=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},B=function(){function e(e,t,n,r){var o=this;this.router=e,this.actions$=t,this.authApiService=n,this.tokenService=r,this.init$=this.actions$.ofType(H.h.AUTH_CHECK_INITIAL_STATE).map(function(){return o.tokenService.token}).map(function(e){return Object(y.isEmpty)(e)?new H.a:new H.b(e)}),this.login$=this.actions$.ofType(H.h.AUTH_LOGIN).switchMap(function(e){return o.authApiService.signIn(e.payload).map(function(e){return new H.f(e)}).catch(function(e){return g.Observable.of(new H.e(e))})}),this.loginSuccess$=this.actions$.ofType(H.h.AUTH_LOGIN_SUCCESS).do(function(){o.router.navigate(["/dashboard"])}).mergeMap(function(e){return[new $.a(e.payload.user)]}),this.reset$=this.actions$.ofType(H.h.AUTH_RESET,$.c.USER_LOAD_CURRENT_USER_FAIL).do(function(){o.tokenService.remove(),o.router.navigate(["/signin"])}).map(function(){return new $.b})}return F([Object(d.b)(),G("design:type",g.Observable)],e.prototype,"init$",void 0),F([Object(d.b)(),G("design:type",g.Observable)],e.prototype,"login$",void 0),F([Object(d.b)(),G("design:type",g.Observable)],e.prototype,"loginSuccess$",void 0),F([Object(d.b)(),G("design:type",g.Observable)],e.prototype,"reset$",void 0),e=F([Object(o.Injectable)(),G("design:paramtypes",[x.a,d.a,U,C.a])],e)}(),K={},q={},Z={production:!0,APP:{API_HOST:"https://api.amalyze.com/0.0.12"}};var V=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},z=function(){function e(){}return e.prototype.intercept=function(e,t){var n,r=e.clone({url:(n=e.url,Object(y.startsWith)(n,"http://")||Object(y.startsWith)(n,"https://")||Object(y.startsWith)(n,"//")?n:""+Z.APP.API_HOST+n)});return t.handle(r)},e=V([Object(o.Injectable)()],e)}(),Q=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},J=function(){function e(e){this.tokenService=e,this.blackList=["/i18n/","/system.user.login"],this.headerName="authentication",this.headerPrefix="Bearer"}return e.prototype.intercept=function(e,t){var n=this;if(Object(y.some)(this.blackList,function(t){return Object(y.includes)(e.url,""+t)}))return t.handle(e).do(function(e){if(e instanceof f.g){var t=e.headers.get("X-FALCON-TOKEN"),r=e.headers.get("X-FALCON-TOKEN");Object(y.isEmpty)(t)||Object(y.isEmpty)(r)||n.tokenService.setTokens({falkonToken:t,xsrfToken:r})}});var r=this.tokenService.token;if(Object(y.isEmpty)(r))return g.Observable.never();var o=e.clone({headers:e.headers.set(this.headerName,this.headerPrefix+" "+r)});return t.handle(o).catch(function(e){return g.Observable.throw(e)})},e=Q([Object(o.Injectable)(),Y("design:paramtypes",[C.a])],e)}(),W=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},X=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e).catch(function(e){return e instanceof f.d&&console.log(e),g.Observable.throw(e)})},e=W([Object(o.Injectable)()],e)}(),ee=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},te=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ne=function(){function e(e){this.authService=e}return e.prototype.intercept=function(e,t){var n=this;return t.handle(e).catch(function(e){return e instanceof f.d&&401===e.status&&n.authService.logout(),g.Observable.throw(e)})},e=ee([Object(o.Injectable)(),te("design:paramtypes",[I.a])],e)}(),re=n("HzjT"),oe=n("/fMq"),ie=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ae="no-case-convert";var ce=function(){function e(){}return e.prototype.intercept=function(e,t){if(e.headers.has(ae)){var n=e.clone({headers:e.headers.delete(ae)});return t.handle(n)}var r=this.convertRequest(e);return t.handle(r)},e.prototype.convertRequest=function(e){var t=re(e.body),n=this.convertRequestParams(e.params);return e.clone({body:t,params:n})},e.prototype.convertRequestParams=function(e){var t=new f.f;return e.keys().forEach(function(n){var r=Object(y.snakeCase)(n);e.getAll(n).forEach(function(e){t=t.append(r,e)})}),t},e.prototype.convertResponse=function(e){var t;if(e instanceof f.g&&!Object(y.isEmpty)(e.body)){var n=e.body;n.id=n.id||n._id,delete n._id,t=e.clone({body:oe(n)})}return t||e},e=ie([Object(o.Injectable)()],e)}(),se=[{provide:f.a,useClass:z,multi:!0},{provide:f.a,useClass:ce,multi:!0},{provide:f.a,useClass:J,multi:!0},{provide:f.a,useClass:X,multi:!0},{provide:f.a,useClass:ne,multi:!0}],ue=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fe=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},le=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},pe=[E],de=function(){function e(e){if(e)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}return t=e,e.forRoot=function(){return{ngModule:t,providers:[I.a,U,C.a,S,L.a,M].concat(se)}},e=t=ue([Object(o.NgModule)({imports:[u.CommonModule,f.c,l.b,l.c,p.i.forRoot(q,{initialState:K}),d.c.forRoot([B]),h.LocalStorageModule.withConfig({prefix:"basic-auth-app",storageType:"localStorage"}),b.a.instrument({maxAge:25})],exports:[f.c,l.b,l.c].concat(pe),declarations:pe.slice()}),le(0,Object(o.Optional)()),le(0,Object(o.SkipSelf)()),fe("design:paramtypes",[e])],e);var t}(),he=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},be=[],ye=function(){function e(){}return e=he([Object(o.NgModule)({imports:[x.b.forChild(be)],exports:[x.b]})],e)}(),ge=n("8jEQ"),ve=n("qhP2"),me=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Oe=function(){function e(){}return t=e,e.forRoot=function(){return{ngModule:t,providers:[ge.a]}},e=t=me([Object(o.NgModule)({imports:[u.CommonModule,p.i.forFeature("UserModule",ve.e,{initialState:ve.d}),ye],declarations:[]})],e);var t}(),je=n("UxgC"),Re=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_e=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Se=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ae=function(e){function t(t,n,r){var o=e.call(this)||this;return o.formBuilder=t,o.authService=n,o.messagesService=r,o.formSubmitted=!1,o.isLoading=!1,o}return Re(t,e),t.prototype.ngOnInit=function(){this.form=this.formBuilder.group({username:["",l.d.required],passwordMd5:["",l.d.required]})},t.prototype.login=function(e){var t=this;this.formSubmitted=!0,this.form.valid&&(this.authService.login(Object.assign({},this.form.value,{passwordMd5:je(this.form.value.passwordMd5),captcha:e})),this.isLoading=!0,this.authService.loggedInFailure$.take(1).takeUntil(this.itIsDestroyed).subscribe(function(){t.isLoading=!1,t.recaptcha.reset(),t.messagesService.showMessage("Something went wrong","DANGER")}))},_e([Object(o.ViewChild)(c.RecaptchaComponent),Se("design:type",c.RecaptchaComponent)],t.prototype,"recaptcha",void 0),t=_e([Object(o.Component)({selector:"app-login-page",template:n("FwjB"),styles:[n("Ez6J")]}),Se("design:paramtypes",[l.a,I.a,S])],t)}(O),we=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ee=[{path:"",redirectTo:k.a,pathMatch:"full"},{path:"signin",component:Ae,canActivate:[M]},{path:"dashboard",loadChildren:"../dashboard/dashboard.module#DashboardModule"},{path:"**",redirectTo:k.a}],Ie=function(){function e(){}return e=we([Object(o.NgModule)({imports:[x.b.forRoot(Ee)],exports:[x.b]})],e)}(),Pe=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Te=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ue=function(){function e(e){this.authService=e,this.isAuthorised$=this.authService.isAuthorised$}return e.prototype.ngOnInit=function(){this.authService.checkInitialState()},e=Pe([Object(o.Component)({selector:"app-root",template:n("2AIk"),styles:[n("QfQk")],encapsulation:o.ViewEncapsulation.None}),Te("design:paramtypes",[I.a])],e)}(),Ce=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Le=function(){function e(){}return e=Ce([Object(o.NgModule)({imports:[a.a,s.a,Ie,de.forRoot(),Oe.forRoot(),c.RecaptchaModule.forRoot()],declarations:[Ue,Ae],bootstrap:[Ue]})],e)}();Z.production&&Object(o.enableProdMode)(),Object(i.a)().bootstrapModule(Le).catch(function(e){return console.log(e)})},eCLT:function(e,t){e.exports="<div class=\"app--messages\" *ngIf=\"messages && messages.length\">\n    <div class=\"app--message\"\n         *ngFor=\"let message of messages\"\n         [ngClass]=\"{ 'shown': message.visible, 'hidden': !message.visible }\">\n        <div class=\"alert\"\n             [ngClass]=\"{ 'alert-success': message.type == 'SUCCESS', 'alert-info': message.type == 'INFO', 'alert-warning': message.type == 'WARNING', 'alert-danger': message.type == 'DANGER' }\">\n            <span>{{ message.text }}</span>\n            <i (click)=\"remove(message)\">X</i>\n        </div>\n    </div>\n</div>\n"},qhP2:function(e,t,n){"use strict";var r=n("5LV6"),o=n("OrJK"),i={user:null,userIsLoaded:!1,userIsBeingLoaded:!1};n.d(t,"d",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return l});var a={user:i},c={user:function(e,t){switch(void 0===e&&(e=i),t.type){case o.c.USER_LOAD_CURRENT_USER:return Object.assign({},e,{userIsBeingLoaded:!0});case o.c.USER_LOAD_CURRENT_USER_SUCCESS:return Object.assign({},e,{user:t.payload,userIsLoaded:!0,userIsBeingLoaded:!1});case o.c.USER_LOAD_CURRENT_USER_FAIL:return Object.assign({},e,{userIsLoaded:!0,userIsBeingLoaded:!1});case o.c.USER_RESET:return i;default:return e}}},s=function(e){return e.UserModule.user},u=Object(r.createSelector)(s,function(e){return e.user}),f=Object(r.createSelector)(s,function(e){return e.userIsLoaded}),l=Object(r.createSelector)(s,function(e){return e.userIsBeingLoaded})},sSrt:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},trG3:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("LMZF"),o=n("UHIZ"),i=n("bBva"),a=n("Lv0n"),c=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n){this.tokenService=e,this.authService=t,this.router=n}return e.prototype.canActivate=function(e,t){return!!this.tokenService.hasToken||(this.authService.redirectUrl=t.url,this.router.navigate(["/signin"]),!1)},e.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},e=c([Object(r.Injectable)(),s("design:paramtypes",[i.a,a.a,o.a])],e)}()},yZGB:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,".app--messages{position:fixed;top:10px;left:50%;z-index:4000;max-width:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)\n  /** TODO use external SCSS variables **/}@media only screen and (max-width:720px){.app--messages{width:90%;max-width:90%;font-size:.9em}}.app--messages .app--message{overflow:hidden;max-height:0;opacity:0;-webkit-transition:max-height .5s linear,opacity .5s linear,-webkit-transform .5s linear;transition:max-height .5s linear,opacity .5s linear,-webkit-transform .5s linear;transition:max-height .5s linear,opacity .5s linear,transform .5s linear;transition:max-height .5s linear,opacity .5s linear,transform .5s linear,-webkit-transform .5s linear;position:relative;margin-bottom:1em}.app--messages .app--message .alert{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem}.app--messages .app--message.hidden{max-height:0;opacity:0}.app--messages .app--message.shown{max-height:150px;opacity:1}.app--messages .app--message i{cursor:pointer;font-size:1rem;margin-left:1rem}",""]),e.exports=e.exports.toString()}},[0]);